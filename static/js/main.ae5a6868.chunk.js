(this["webpackJsonpdrum-machine"]=this["webpackJsonpdrum-machine"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),i=n(7),o=n.n(i),a=(n(13),n(8)),c=n(6),u=n(2),d=(n(14),n(0)),m=function(e,t){return function(n){try{document.getElementById(n.key.toUpperCase()).currentTime=0;var r=document.getElementById(n.key.toUpperCase()).play();void 0!==r&&r.then((function(){})).catch((function(e){console.log("error",e)}));for(var s="Loading",i=0;i<t.length;i++)if(t[i].press===n.key){s=t[i].name;break}e(s)}catch(o){}}},l=function(e){var t={display:"flex",gridColumn:"1 / 3",justifyContent:"space-evenly",alignItems:"center"},n=Object(u.a)({},t);n.gridArea="row1";var s=Object(u.a)({},t);s.gridArea="row2",Object(u.a)({},t).gridArea="row3";return Object(r.useEffect)((function(){var t=document.getElementById("keyboardswitch").children[1].children[0],n=document.getElementById("minimizedswitch").children[1].children[0];"qwertz"===e.keyboard&&(t.checked=!0),!1===e.minimized&&(n.checked=!0)}),[e.keyboard,e.minimized]),Object(d.jsxs)("div",{id:"optionsdropdown",style:{display:"grid",gridGap:"10px",gridTemplateRows:"70px 1fr 1fr 1fr",gridTemplateColumns:"1fr 70px",gridTemplateAreas:'"header ." "row1 row1" "row2 row2" "row3 row3"',justifySelf:"end",alignSelf:"start",width:"80%",backgroundColor:"grey",borderRadius:"5px"},children:[Object(d.jsx)("h1",{style:{gridArea:"header",justifySelf:"center",alignSelf:"center"},children:"Options"}),Object(d.jsxs)("div",{id:"keyboardswitch",className:"switch-row",style:n,children:[Object(d.jsx)("div",{children:"QWERTY"}),Object(d.jsxs)("label",{className:"switch",children:[Object(d.jsx)("input",{type:"checkbox",onClick:function(){e.setappstate((function(e){var t=Object(u.a)({},e);return"qwerty"===t.keyboard?t.keyboard="qwertz":t.keyboard="qwerty",t}))}}),Object(d.jsx)("span",{className:"slider round"})]}),Object(d.jsx)("div",{children:"QWERTZ"})]}),Object(d.jsxs)("div",{id:"minimizedswitch",className:"switch-row",style:s,children:[Object(d.jsx)("div",{children:"Minimized"}),Object(d.jsxs)("label",{className:"switch",children:[Object(d.jsx)("input",{type:"checkbox",onClick:function(){e.setappstate((function(e){var t=Object(u.a)({},e);return t.minimized=!t.minimized,t}))}}),Object(d.jsx)("span",{className:"slider round"})]}),Object(d.jsx)("div",{children:"Maximised"})]})]})},b=function(e){var t=Object(r.useState)(!1),n=Object(c.a)(t,2),i=n[0],o=n[1],a=function(){o(!i)},u={zIndex:"1",backgroundImage:"url('/FCC-Drum-Machine/gear-white.png')",backgroundSize:"90% auto",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",borderRadius:"5px",padding:"10px",height:"50px",width:"50px"};return i?Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)("div",{id:"options",style:u,onClick:a}),Object(d.jsx)(l,{minimized:e.minimized,setappstate:e.setappstate,keyboard:e.keyboard})]}):Object(d.jsx)("div",{id:"options",style:u,onClick:a})},p=function(e){return Object(d.jsx)("div",{id:"display",children:Object(d.jsx)("div",{id:"display-text",children:e.text})})},h=function(e){return Object(d.jsx)("div",{id:"db-wrapper",children:e.buttonsarr.map((function(t,n){return Object(d.jsx)("div",{className:"drum-button",children:Object(d.jsxs)("button",{className:"drum-pad",customkey:n,onClick:(r=e.changetext,s=e.buttonsarr,function(e){var t=e.target.attributes.customkey.value,n=s[t],i=n.press.toUpperCase();document.getElementById(i).currentTime=0,document.getElementById(i).play(),r(n.name)}),id:t.name,children:[Object(d.jsx)("span",{className:"front",children:t.press.toUpperCase()}),Object(d.jsx)("audio",{id:t.press.toUpperCase(),src:e.buttonsarr[n].source,preload:"auto",className:"clip"},t.press.toUpperCase())]},t.press)},n);var r,s}))})};var j=function(e){var t=Object(r.useState)({text:"Press a button",minimized:!0,keyboard:"qwerty"}),n=Object(c.a)(t,2),i=n[0],o=n[1],l=function(e){o((function(t){var n=Object(u.a)({},t);return n.text=e,n}))},j=[];if(i.minimized){var g=["q","w","e","a","s","d","z","x","c"];"qwerty"!==i.keyboard&&(g[g.indexOf("z")]="y");for(var x=0;x<e.buttonsarr.length;x++)-1!==g.indexOf(e.buttonsarr[x].press)&&(j[g.indexOf(e.buttonsarr[x].press)]=e.buttonsarr[x]);console.log("final buttons",j)}else{if(j=Object(a.a)(e.buttonsarr),"qwerty"===i.keyboard){for(var y=-1,C=-1,f=0;f<j.length&&(-1===y||-1===C);f++)"y"!==j[f].press?"z"!==j[f].press||(C=f):y=f;console.log("Indexes y and z",y,C);var O=j[C];console.log("buttonsArr[zIndex]",j[C]),console.log("buttonsArr[yIndex]",j[y]),console.log("zObj",O),j[C]=j[y],j[y]=O,console.log("buttonsarr[yIndex]",j[y],"yIndex",y),console.log("final buttonsarr",j)}console.log("else triggered",j)}var v=s.a.useRef([]);return Object(r.useEffect)((function(){return v.current=j,document.addEventListener("keydown",m(l,v.current)),function(){document.removeEventListener("keydown",m(l,v.current))}}),[i.minimized,i.keyboard]),Object(d.jsxs)("div",{className:"App",id:"drum-machine",children:[Object(d.jsx)(b,{minimized:i.minimized,keyboard:i.keyboard,setappstate:o}),Object(d.jsx)(p,{text:i.text}),Object(d.jsx)(h,{changetext:l,buttonsarr:j})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),s(e),i(e),o(e)}))},x=[{press:"q",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Clap%201.mp3",name:""},{press:"w",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Clap%202.mp3",name:""},{press:"e",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Conga%20High.mp3",name:""},{press:"r",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Conga%20Mid.mp3",name:""},{press:"t",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Conga%20Low.mp3",name:""},{press:"z",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Cowbell.mp3",name:""},{press:"a",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Hihat%20Open.mp3",name:""},{press:"s",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Mid%20Tom.mp3",name:""},{press:"d",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Pop%20Chord%201.mp3",name:""},{press:"f",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Pop%20Chord%202.mp3",name:""},{press:"g",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Pop%20Chord%203.mp3",name:""},{press:"y",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Woop.mp3",name:""},{press:"x",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Snare%201.mp3",name:""},{press:"c",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Snare%202.mp3",name:""},{press:"v",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Snare%203.mp3",name:""},{press:"b",source:"https://github.com/Julian-Sz/FCC-Drum-Machine/blob/main/src/sounds/Snare%204.mp3",name:""}];try{for(var y=/.+\/(.*)\.mp3$/,C=0;C<x.length;C++)x[C].name=decodeURI(x[C].source).match(y)[1],x[C].source=x[C].source+"?raw=true"}catch(f){console.error("Error in buttonsArr, full message: \n",f)}o.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(j,{buttonsarr:x})}),document.getElementById("root")),g()}},[[16,1,2]]]);
//# sourceMappingURL=main.ae5a6868.chunk.js.map